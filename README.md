# 視覚のQOL調査 AS-20

斜視患者向けのAS-20（Adult Strabismus-20）アンケートシステムです。患者の生活の質（QOL）を評価するためのWebアプリケーションです。

## 🌟 特徴

- **簡単な回答**: 20項目の質問に5段階で回答
- **自動スコアリング**: 平均点を自動計算（100点満点）
- **視覚的なグラフ**: 3種類の棒グラフで結果を表示
  - 項目ごとのスコア
  - カテゴリー別平均点
  - 心理社会面 vs 機能面の比較
- **データ保存**: 回答は自動的にJSON形式で保存

## 📊 スコアリング方式

各質問は100点満点で評価されます：
- **全くない**: 100点
- **まれにしかない**: 75点
- **時々ある**: 50点
- **よくある**: 25点
- **いつもある**: 0点

**高得点 = QOL良好、低得点 = QOL低下**

### カテゴリー
- **心理社会面**（Q1-10）: 外見への不安や対人関係への影響
- **機能面**（Q11-20）: 視覚機能に関する困難

## 🚀 デプロイ方法（Streamlit Cloud）

### 1. GitHubリポジトリの作成

1. GitHubにログイン
2. 新しいリポジトリを作成（例: `as20-survey`）
3. 以下のファイルをアップロード:
   - `app.py`
   - `requirements.txt`
   - `README.md`

### 2. Streamlit Cloudでデプロイ

1. [Streamlit Cloud](https://streamlit.io/cloud)にアクセス
2. GitHubアカウントでサインイン
3. "New app"をクリック
4. リポジトリを選択: `あなたのユーザー名/as20-survey`
5. メインファイル: `app.py`
6. "Deploy"をクリック

数分後、アプリが公開されます！

## 💻 ローカルでの実行

```bash
# リポジトリをクローン
git clone https://github.com/あなたのユーザー名/as20-survey.git
cd as20-survey

# 必要なパッケージをインストール
pip install -r requirements.txt

# アプリを起動
streamlit run app.py
```

ブラウザで `http://localhost:8501` を開いてください。

## 📁 プロジェクト構造

```
as20-survey/
├── app.py              # メインアプリケーション
├── requirements.txt    # 必要なパッケージ
├── README.md          # このファイル
└── survey_data/       # 回答データ保存用（自動作成）
```

## 📝 使い方

1. 氏名と患者IDを入力
2. 20項目の質問にすべて回答
3. "回答を送信してスコアを表示"ボタンをクリック
4. 結果とグラフを確認

## 🔒 データ保護

- 回答データは`survey_data`フォルダにJSON形式で保存されます
- ローカル環境では自動的に保存されます
- Streamlit Cloudでは一時的な保存のみ（永続化が必要な場合はデータベースの導入を推奨）

## 📄 ライセンス

このプロジェクトは教育・研究目的で使用できます。

## 🤝 貢献

問題や改善提案がある場合は、Issueを作成してください。

## 📧 お問い合わせ

質問がある場合は、GitHubのIssueでお知らせください。

---

**注意**: このアプリケーションは医療診断ツールではありません。結果は参考情報として使用し、専門医にご相談ください。
